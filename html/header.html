<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Header</title>

    <link src="../fonts/inter/styles.css">
    <link src="../fonts/figtree/styles.css">
    <link src="../style/headerstyle.css">
    <link src="../style/privacyPolicy.css">
    <script src="./scripts/hader.js"></script>
</head>
<body>
    <header>
        <div class="header-top">
            <div class="kanban"><p class="subheader-contact">Kanban Project Management Tool</p></div>
            <div class="user">
                <a href="../help.html"><img class="help-icon-header" src="IMGicons/help.svg" alt="Help icon"></a>
                <div id="PB" class="PB user-select-none" onclick="infoTap()">MM</div>
            </div>
                <div class="d-none" id="dropdown-content">
                    <div><a class="hoverEffect" href="../legalNotice.html">Legal Notice</a></div>
                    <div><a class="hoverEffect" href="../privacyPolicy.html">Privacy Policy</a></div>
                    <div class="hoverEffect" onclick="logout()">Logout</div>
                </div>
        </div>
    
        <div class="header-left">
            <div class="header-flex">
                <img class="join_logo" src="IMGicons/headericons/joinlogo.png" alt="Logo Join">
                
                <div class="sidebar-nav headericons">
                    <p class="sidebarlist active" id="nav-summary"><a class ="active_summary abc" href="summary.html">Summary</a></p>
                    <p class="sidebarlist active" id="nav-add-task"><a class ="active_addtask abc" href="add_task.html">Add Task</a></p>
                    <p class="sidebarlist active" id="nav-board"><a class ="active_board abc" href="board.html">Board</a></p>
                    <p class="sidebarlist active" id="nav-contacts"><a class ="active_contacts abc" href="contacts.html">Contacts</a></p>
                </div>
            </div>

            <div class="sidebar-nav lastpart official-menu">
                <p class="sidebarlist active margin-0" ><a class ="active_footer active_policy abc" href="privacyPolicy.html">Privacy Policy</a></p>
                <p class="sidebarlist active margin-0" ><a class ="active_footer active_legal abc" href="legalNotice.html">Legal notice</a></p>
            </div>

            <div class="sidebar-nav lastpart legal-menu">
                <p class="sidebarlist active margin-0" ><a class ="active_footer active_policy abc" href="privacyPolicyExternal.html">Privacy Policy</a></p>
                <p class="sidebarlist active margin-0" ><a class ="active_footer active_legal abc" href="legalNoticeExternal.html">Legal notice</a></p>
            </div>

        </div>
    
    </header>

    <script>
        // Funktion, um das Menü zu togglen
        function infoTap(event) {
            event.stopPropagation(); // Verhindert, dass der Klick das Dokument-Event auslöst
            var pb = document.getElementById('PB');
            // Toggle der Sichtbarkeit des Menüs
            pb.style.display = pb.style.display === 'none' || pb.style.display === '' ? 'block' : 'none';
        }

        // Funktion, um das Menü zu schließen, wenn außerhalb geklickt wird
        function closeMenu(event) {
            var pb = document.getElementById('PB');
            // Überprüfen, ob der Klick außerhalb des Menüs war
            if (pb.style.display === 'block' && !pb.contains(event.target)) {
                pb.style.display = 'none';
            }
        }

        // Event Listener für das Menü hinzufügen
        document.addEventListener('DOMContentLoaded', function() {
            var pb = document.getElementById('PB');
            if (pb) {
                pb.addEventListener('click', infoTap);
            }
            // Event Listener hinzufügen, um das Menü zu schließen, wenn auf die Seite geklickt wird
            document.addEventListener('click', closeMenu);
        });


        function infoTap(event) {
    event.stopPropagation(); // Verhindert, dass der Klick das Dokument-Event auslöst
    var pb = document.getElementById('PB');
    console.log('Menu toggled'); // Debugging-Zeile
    pb.style.display = pb.style.display === 'none' || pb.style.display === '' ? 'block' : 'none';
}

    </script>
</body>
</html>